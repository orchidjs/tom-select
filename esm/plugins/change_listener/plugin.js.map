{"version":3,"file":"plugin.js","sources":["../../../../src/plugins/change_listener/plugin.ts"],"sourcesContent":["/**\n * Plugin: \"change_listener\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select.js';\nimport getSettings from '../../settings.js';\nimport { TomSettings } from '../../types/settings';\nimport { addEvent } from '../../utils';\n\nTomSelect.define('change_listener',function(options){\n\tvar self\t\t= this;\n\tvar changed\t\t= false;\n\n\taddEvent(self.input,'change',()=>{\n\n\t\t// prevent infinite loops\n\t\tif( changed ){\n\t\t\tchanged = false;\n\t\t\treturn;\n\t\t}\n\n\t\tchanged\t\t\t= true;\n\t\tvar settings\t= getSettings( self.input, {} as TomSettings );\n\n\t\tself.setupOptions(settings.options,settings.optgroups);\n\t\tself.setValue(settings.items);\n\t});\n\n});\n"],"names":["TomSelect","define","options","self","changed","addEvent","input","settings","getSettings","setupOptions","optgroups","setValue","items"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOAA,SAAS,CAACC,MAAV,CAAiB,iBAAjB,EAAmC,UAASC,OAAT,EAAiB;AACnD,MAAIC,IAAI,GAAI,IAAZ;AACA,MAAIC,OAAO,GAAI,KAAf;AAEAC,EAAAA,QAAQ,CAACF,IAAI,CAACG,KAAN,EAAY,QAAZ,EAAqB,MAAI;AAEhC;AACA,QAAIF,OAAJ,EAAa;AACZA,MAAAA,OAAO,GAAG,KAAV;AACA;AACA;;AAEDA,IAAAA,OAAO,GAAK,IAAZ;AACA,QAAIG,QAAQ,GAAGC,WAAW,CAAEL,IAAI,CAACG,KAAP,EAAc,EAAd,CAA1B;AAEAH,IAAAA,IAAI,CAACM,YAAL,CAAkBF,QAAQ,CAACL,OAA3B,EAAmCK,QAAQ,CAACG,SAA5C;AACAP,IAAAA,IAAI,CAACQ,QAAL,CAAcJ,QAAQ,CAACK,KAAvB;AACA,GAbO,CAAR;AAeA,CAnBD"}